{"version":3,"file":"commonHelpers.js","sources":["../src/js/template.js","../src/js/fetch.js","../src/js/products.js","../src/js/base-js/scroll.js","../src/js/base-js/popup.js","../src/main.js"],"sourcesContent":["export function createMarkupProductsAll(arr) {\n    return arr.map(({price, name, img, _id, category, size, popularity }) => \n        `<li class=\"list-item\" id=\"${_id}\" >\n            <img width=100 src=\"${img}\">\n            <h3>${name}</h3>\n            <p>Category:  <span>${category}</span></p>\n            <p>Size:  <span>${size}</span></p>\n            <p>Popularity:  <span>${popularity}</span></p>\n            <p>$ <span>${price}</span></p>\n            <button class=\"add-btn\">+</button>\n        </li>`\n    ).join('')\n}\n\n\nexport function createMarkupPopularProducts(arr) {\n    return arr.map(({price, name, img, _id, category, size, popularity }) => {\n        return `<li class=\"list-item\" id=\"${_id}\" >\n            <img width=100 src=\"${img}\">\n            <h3>${name}</h3>\n            <p>Category:  <span>${category}</span></p>\n            <p>Size:  <span>${size}</span></p>\n            <p>Popularity:  <span>${popularity}</span></p>\n            <p>$ <span>${price}</span></p>\n            <button class=\"add-btn\">+</button>\n        </li>`\n    }).join('')\n}\n\nexport function createMarkupProductsDiscount(arr) {\n    return arr.map(({price, name, img, _id}) => {\n        return `<li class=\"list-item\" id=\"${_id}\" >\n            <button class=\"discount-btn\">discount</button>\n            <img width=100 src=\"${img}\">\n            <h3>${name}</h3>\n            <p>$ <span>${price}</span></p>\n            <button class=\"add-btn\">+</button>\n        </li>`\n    }).join('')\n}\n\nexport function createMarkupCart(arr) {\n    return arr.map(({ price, name, img, _id, category, size }) =>\n        `<li class=\"list-item\" id=\"${_id}\" >\n            <img width=100 src=\"${img}\">\n            <button class=\"remove-btn\">X</button>\n            <h3>${name}</h3>\n            <p>Category:  <span>${category}</span></p>\n            <p>Size:  <span>${size}</span></p>\n            <p>$ <span>${price}</span></p>\n            <button class=\"less-btn\">-</button>\n            <span class=\"products-quantity\"></span>\n            <button class=\"more-btn\">+</button>\n        </li>`\n    ).join('')\n}","import axios from 'axios'\n\nexport async function fetchProductsAll(category) {\n    const response = await axios(`https://food-boutique.b.goit.study/api/products?keyword=Ac&category=${category}&page=1&limit=10`)\n    return response.data.results\n}\n\nexport async function fetchProducts(select) {\n    const response = await axios(`https://food-boutique.b.goit.study/api/products/${select}`)\n    return response.data\n}\n","import{createMarkupProductsAll, createMarkupPopularProducts, createMarkupProductsDiscount} from './template.js'\nimport{fetchProductsAll, fetchProducts} from './fetch.js'\nconst containerAll = document.querySelector('.products-container')\nconst containerPopular = document.querySelector('.popular-container')\nconst containerDiscount = document.querySelector('.discount-container')\nconst KEY = 'products in cart'\n\nasync function renderAll() {\n    try {\n        const data = await fetchProductsAll('Fresh_Produce')\n        containerAll.insertAdjacentHTML(\"beforeend\", createMarkupProductsAll(data))\n    } catch (error) {\n        console.log(error.message)\n    }\n}\nrenderAll()\n\nasync function renderPopular() {\n    try {\n        const data = await fetchProducts('popular')\n        containerPopular.insertAdjacentHTML(\"beforeend\", createMarkupPopularProducts(data))\n    } catch (error) {\n        console.log(error.message)\n    }\n}\nrenderPopular()\n\nasync function renderDiscount() {\n    const data = await fetchProducts('discount')\n    containerDiscount.insertAdjacentHTML(\"beforeend\", createMarkupProductsDiscount(data))\n}\nrenderDiscount()\n\n\ncontainerAll.addEventListener('click', addBtnClick)\n\nasync function addBtnClick(event) {\n    if (event.target.nodeName !== 'BUTTON') {\n        return\n    }\n    const selectedItem = event.target.closest('.list-item')\n    const selectedItemId = selectedItem.id\n    console.log(selectedItemId)\n    try {\n        const currentProduct = await fetchProducts(selectedItemId)\n        const products = JSON.parse(localStorage.getItem(KEY)) ?? []\n        console.log(products)\n        const index = products.findIndex(item => item._id === selectedItemId)\n        console.log(index)\n\n        if (index !== -1) {\n            products[index].quantity+=1\n        } else {\n            currentProduct.quantity=1\n            products.push(currentProduct)\n        }\n        localStorage.setItem(KEY, JSON.stringify(products))\n    } catch(error) {console.log(error.message)}\n}\n","// Шапка сайту ховати та показувати при прокрутці сторінки\nlet lastScroll = 0;\nconst defaultOffset = 50;\nconst header = document.querySelector('.header');\n\nconst scrollPosition = () => window.pageYOffset || document.documentElement.scrollTop;\nconst containHide = () => header.classList.contains('hide');\n\nexport function handleHeaderScroll() {\n   window.addEventListener('scroll', () => {\n      if (scrollPosition() > lastScroll && !containHide() && scrollPosition() > defaultOffset) {\n         header.classList.add('hide');\n      } else if (scrollPosition() < lastScroll && containHide()) {\n         header.classList.remove('hide');\n      }\n\n      lastScroll = scrollPosition();\n   });\n}","const popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\nconst lockPadding = document.querySelectorAll(\".lock-padding\");\n\nlet unlock = true;\n\nconst timeout = 800;\n\nif (popupLinks.length > 0) {\n   for (let index = 0; index < popupLinks.length; index++) {\n      const popupLink = popupLinks[index];\n      popupLink.addEventListener(\"click\", function (e) {\n         const popupName = popupLink.getAttribute('href').replace('#', '');\n         const curentPopup = document.getElementById(popupName);\n         popupOpen(curentPopup);\n         e.preventDefault();\n      });\n   }\n}\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n   for (let index = 0; index < popupCloseIcon.length; index++) {\n      const el = popupCloseIcon[index];\n      el.addEventListener('click', function (e) {\n         popupClose(el.closest('.popup'));\n         e.preventDefault();\n      });\n   }\n}\n\nexport function popupOpen(curentPopup) {\n   if (curentPopup && unlock) {\n      const popupActive = document.querySelector('.popup.open');\n      if (popupActive) {\n         popupClose(popupActive, false);\n      } else {\n         bodyLock();\n      }\n      curentPopup.classList.add('open');\n      curentPopup.addEventListener(\"click\", function (e) {\n         if (!e.target.closest('.popup-content')) {\n            popupClose(e.target.closest('.popup'));\n         }\n      });\n   }\n}\n\nexport function popupClose(popupActive, doUnlock = true) {\n   if (unlock) {\n      popupActive.classList.remove('open');\n      if (doUnlock) {\n         bodyUnLock();\n      }\n   }\n}\n\nexport function bodyLock() {\n   const lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\n\n   if (lockPadding.length > 0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n         const el = lockPadding[index];\n         el.style.paddingRight = lockPaddingValue;\n      }\n   }\n   body.style.paddingRight = lockPaddingValue;\n   body.classList.add('lock');\n\n   unlock = false;\n   setTimeout(function () {\n      unlock = true;\n   }, timeout);\n}\n\nexport function bodyUnLock() {\n   setTimeout(function () {\n      if (lockPadding.length > 0) {\n         for (let index = 0; index < lockPadding.length; index++) {\n            const el = lockPadding[index];\n            el.style.paddingRight = '0px';\n         }\n      }\n      body.style.paddingRight = '0px';\n      body.classList.remove('lock');\n   }, timeout);\n\n   unlock = false;\n   setTimeout(function () {\n      unlock = true;\n   }, timeout);\n}\n\ndocument.addEventListener('keydown', function (e) {\n   if (e.code === 'Escape') {\n      const popupActive = document.querySelector('.popup.open');\n      popupClose(popupActive);\n   }\n});\n\n\n\n","// Експорт функції шапки сайту ховати при прокрутці та показувати \nimport { handleHeaderScroll } from './js/base-js/scroll';\n// Експорт функції попапу\nimport * as yourModule from './js/base-js/popup';\n\n// визов функції ховати та показувати шапку сайту\nhandleHeaderScroll();\n\n// визов функціоналу попапа\nconst popupLinks = document.querySelectorAll('.popup-link');\n// визов функції відкриття першого попапу\nyourModule.popupOpen(popupLinks[0]);\n//визов функції закриття попапу\nconst popupCloseIcon = document.querySelector('.close-popup');\nyourModule.popupClose(popupCloseIcon.closest('.popup'));\n// визов функції блокування скролу в боді\nyourModule.bodyLock();\n// визов функції розблокування скролу боді\nyourModule.bodyUnLock();\n\n\n"],"names":["createMarkupProductsAll","arr","price","name","img","_id","category","size","popularity","createMarkupPopularProducts","createMarkupProductsDiscount","fetchProductsAll","axios","fetchProducts","select","containerAll","containerPopular","containerDiscount","KEY","renderAll","data","error","renderPopular","renderDiscount","addBtnClick","event","selectedItemId","currentProduct","products","index","item","lastScroll","defaultOffset","header","scrollPosition","containHide","handleHeaderScroll","popupLinks","body","lockPadding","unlock","timeout","popupLink","e","popupName","curentPopup","popupOpen","popupCloseIcon","el","popupClose","popupActive","bodyLock","doUnlock","bodyUnLock","lockPaddingValue","yourModule.popupOpen","yourModule.popupClose","yourModule.bodyLock","yourModule.bodyUnLock"],"mappings":"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"}